<div class="container">
  <h1>List of Categories</h1>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Categories Image</th>
        <th>Title</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let category of categoryList">
        <td>
          <img
            style="width: 62px; margin-top: 5px"
            src="{{ category.image }}"
            alt=""
          />
        </td>
        <td>{{ category.title }}</td>

        <td>
          <button
            class="btn btn-sm btn-danger"
            (click)="deletecategory(category.id)"
          >
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="login">
  <div class="card">
    <h2 class="login-header">Add New category</h2>
    <form
      [formGroup]="loginForm"
      class="login-container"
      (ngSubmit)="addnewcategory()"
    >
      <div class="form-group">
        <label>Image</label>
        <input
          type="text"
          formControlName="image"
          placeholder="Enter image url"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['image'].errors }"
        />
        <div *ngIf="submitted && f['image'].errors" class="invalid-feedback">
          <div *ngIf="f['image'].errors['required']">Image url is required</div>
          <div *ngIf="f['image'].errors['image']">Image url is invalid</div>
        </div>
      </div>

      <div class="form-group">
        <label>Title</label>
        <input
          type="title"
          formControlName="title"
          placeholder="Enter title"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['title'].errors }"
        />
        <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">
          <div *ngIf="f['title'].errors['required']">Title is required</div>
        </div>
      </div>
      <div class="form-group">
        <p>
          <input type="submit" value="Add" />
        </p>
      </div>
    </form>
  </div>
</div>
<div class="container">
  <h1>List of Products</h1>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Categories Image</th>
        <th>Title</th>
        <th>Images</th>
        <th>Description</th>
        <th>Sub CategoryId</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of productLists">
        <td>
          <img
            style="width: 62px; margin-top: 5px"
            src="{{ product.image }}"
            alt=""
          />
        </td>
        <td>{{ product.title }}</td>
        <td>
          <img
            style="width: 62px; margin-top: 5px"
            src="{{ product.images }}"
            alt=""
          />
        </td>
        <td>{{ product.description }}</td>
        <td>{{ product.sub_category_id }}</td>

        <td>
          <button
            class="btn btn-sm btn-danger"
            (click)="deleteproduct(product.id)"
          >
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="login">
  <div class="card">
    <h2 class="login-header">Add New Products</h2>
    <form
      [formGroup]="form"
      class="login-container"
      (ngSubmit)="addnewproduct()"
    >
      <div class="form-group">
        <label>Image</label>
        <input
          type="text"
          formControlName="image"
          placeholder="Enter image url"
          class="form-control"
          [ngClass]="{ 'is-invalid': submits && g['image'].errors }"
        />
        <div *ngIf="submits && g['image'].errors" class="invalid-feedback">
          <div *ngIf="g['image'].errors['required']">Image url is required</div>
          <div *ngIf="g['image'].errors['image']">Image url is invalid</div>
        </div>
      </div>
      <div class="form-group">
        <label>Images</label>
        <input
          type="text"
          formControlName="images"
          placeholder="Enter image url"
          class="form-control"
          [ngClass]="{ 'is-invalid': submits && g['images'].errors }"
        />
        <div *ngIf="submits && g['images'].errors" class="invalid-feedback">
          <div *ngIf="g['images'].errors['required']">
            Image url is required
          </div>
          <div *ngIf="g['images'].errors['images']">Image url is invalid</div>
        </div>
      </div>
      <div class="form-group">
        <label>Price</label>
        <input
          type="number"
          formControlName="price"
          placeholder="Enter Price"
          class="form-control"
          [ngClass]="{ 'is-invalid': submits && g['price'].errors }"
        />
        <div *ngIf="submits && g['price'].errors" class="invalid-feedback">
          <div *ngIf="g['price'].errors['required']">Price is required</div>
          <div *ngIf="g['price'].errors['price']">Price is invalid</div>
        </div>
      </div>
      <div class="form-group">
        <label>Description</label>
        <input
          type="text"
          formControlName="description"
          placeholder="Enter description"
          class="form-control"
          [ngClass]="{ 'is-invalid': submits && g['description'].errors }"
        />
        <div
          *ngIf="submits && g['description'].errors"
          class="invalid-feedback"
        >
          <div *ngIf="g['description'].errors['required']">
            Description is required
          </div>
          <div *ngIf="g['description'].errors['description']">
            Description is invalid
          </div>
        </div>
      </div>
      <div class="form-group">
        <label>SubCategory id</label>
        <input
          type="text"
          formControlName="subcategoryid"
          placeholder="Enter subcategory id"
          class="form-control"
          [ngClass]="{ 'is-invalid': submits && g['subcategoryid'].errors }"
        />
        <div
          *ngIf="submits && g['subcategoryid'].errors"
          class="invalid-feedback"
        >
          <div *ngIf="g['subcategoryid'].errors['required']">
            Subcategory Id is required
          </div>
          <div *ngIf="g['subcategoryid'].errors['subcategoryid']">
            SubCategory id is invalid
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Title</label>
        <input
          type="title"
          formControlName="title"
          placeholder="Enter title"
          class="form-control"
          [ngClass]="{ 'is-invalid': submits && g['title'].errors }"
        />
        <div *ngIf="submits && g['title'].errors" class="invalid-feedback">
          <div *ngIf="g['title'].errors['required']">Title is required</div>
        </div>
      </div>
      <div class="form-group">
        <p>
          <input type="submit" value="Add" />
        </p>
      </div>
    </form>
  </div>
</div>
